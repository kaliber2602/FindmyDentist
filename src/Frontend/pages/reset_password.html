<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Reset Password | DentalCare</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom -->
    <link rel="stylesheet" href="../css/reset_password.css" />
  </head>

  <body>
    <nav class="navbar navbar-light shadow-sm px-4 py-3">
      <a href="index.html" class="navbar-brand fw-bold">FindMyDentist</a>
    </nav>

    <section class="reset-section py-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <div class="text-center mb-4">
              <h2 class="fw-bold">Reset Your Password</h2>
              <p class="text-muted">We'll send a 6-digit code to the email associated with your account.</p>
            </div>

            <!-- STEP 1: username/email (we'll call it username here) -->
            <form id="usernameForm" class="card p-4 mb-3">
              <div class="mb-3">
                <label for="username" class="form-label fw-semibold">Username or Email</label>
                <input id="username" type="text" class="form-control form-input" placeholder="your username or email" required />
              </div>

              <div class="d-flex justify-content-between align-items-center">
                <button type="button" id="usernameSubmit" class="btn btn-primary">Send OTP</button>
                <small id="usernameHint" class="text-muted">We'll email a code to your address.</small>
              </div>
            </form>

            <!-- STEP 2: OTP input -->
            <div id="otpCard" class="card p-4 mb-3 d-none">
              <div class="text-center mb-3">
                <p class="mb-1">Enter the 6-digit code</p>
                <small id="sentTo" class="text-muted"></small>
              </div>

              <div class="otp-container mb-3" aria-label="OTP inputs">
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
                <input type="text" inputmode="numeric" maxlength="1" class="otp-box" />
              </div>

              <div class="d-flex justify-content-between align-items-center mb-2">
                <div>
                  <button id="verifyOtpBtn" class="btn btn-primary btn-sm" disabled>Verify OTP</button>
                </div>
                <div class="text-end">
                  <button id="resendBtn" class="btn btn-link p-0" disabled>Resend (<span id="timer">60</span>s)</button>
                </div>
              </div>

              <div class="text-center">
                <button id="cancelOtp" class="btn btn-secondary btn-sm">Cancel</button>
              </div>
            </div>

            <!-- STEP 3: New password -->
            <form id="resetForm" class="card p-4 mb-3 d-none">
              <div class="mb-3">
                <label for="newPassword" class="form-label fw-semibold">New password</label>
                <input id="newPassword" type="password" class="form-control form-input" required placeholder="Enter new password" />
              </div>
              <div class="mb-3">
                <label for="confirmPassword" class="form-label fw-semibold">Confirm password</label>
                <input id="confirmPassword" type="password" class="form-control form-input" required placeholder="Confirm new password" />
              </div>

              <div class="d-flex justify-content-between">
                <button id="backToOtp" type="button" class="btn btn-secondary">‚Üê Back</button>
                <button id="submitNewPassword" type="button" class="btn btn-primary">Reset Password</button>
              </div>
            </form>

            <!-- Optional messages -->
            <div id="messageBox" class="mt-2"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/reset_password.js"></script>
  </body>
</html>
